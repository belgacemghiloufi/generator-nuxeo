#!/bin/sh -
#GENERATOR_IMG=nuxeo/generator:latest
GENERATOR_IMG=generator

which docker &> /dev/null || ( echo "Docker is missing from path." && exit 1; )

if [ ! -z ${DISTRIBUTION_PATH} ]; then
  DISTRIBUTION_VOLUME="-v ${DISTRIBUTION_PATH}:/distribution"
fi

docker run -ti --rm ${DISTRIBUTION_VOLUME} -v "`pwd`:/workdir" -e "workdir=`basename $PWD`" ${GENERATOR_IMG} $@
